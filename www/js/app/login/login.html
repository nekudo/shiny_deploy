<section class="content">
    <div data-ng-include="'/js/app/shared/views/alerts.html'"></div>

    <div class="row">
        <div class="col-md-8 col-md-offset-2">
            <div class="box box-primary" data-ng-if="vm.systemUserExists">
                <div class="box-header with-border">
                    <h3 class="box-title">Please login</h3>
                </div>

                <form role="form">
                    <div class="box-body">
                        <div class="form-group">
                            <label for="password">Password</label>
                            <input data-ng-model="vm.password"
                                   name="password"
                                   type="password"
                                   class="form-control"
                                   id="password"
                                   placeholder="Password">
                        </div>
                    </div>

                    <div class="box-footer">
                        <button data-ng-click="vm.login()" class="btn btn-primary">Submit</button>
                    </div>
                </form>
            </div>

            <div class="box box-primary" data-ng-if="!vm.systemUserExists">
                <div class="box-header with-border">
                    <h3 class="box-title">Create system user</h3>
                </div>

                <form role="form" name="addUserForm" novalidate>
                    <div class="box-body">
                        <p>
                            It seems like you did not create a system user yet. Please enter a password for the
                            system user now.
                        </p>
                        <div class="form-group"
                             data-ng-class="{ 'has-error': addUserForm.password.$invalid && addUserForm.password.$dirty}">
                            <label for="password">Password</label>
                            <input data-ng-model="vm.password"
                                   data-ng-minlength="6"
                                   required
                                   name="password"
                                   type="password"
                                   class="form-control"
                                   id="password"
                                   placeholder="Password">
                        </div>
                        <div class="form-group"
                             data-ng-class="{ 'has-error': addUserForm.password_verify.$invalid && addUserForm.password_verify.$dirty}">
                            <label for="password_verify">Repeat Password</label>
                            <input data-ng-model="vm.password_verify"
                                   data-ng-minlength="6"
                                   required
                                   type="password"
                                   name="password_verify"
                                   class="form-control"
                                   id="password_verify"
                                   placeholder="Repeat Password">
                        </div>
                    </div>

                    <div class="box-footer">
                        <button data-ng-click="vm.createSystemUser()"
                                data-ng-disabled="addUserForm.$invalid"
                                class="btn btn-primary">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>